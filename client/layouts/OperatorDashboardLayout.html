<template name="OperatorDashboardLayout">

  <div class="row">
    
    <div class=" col s12 m2 no-right-pad">
      <div class="operator-customers card-border z-depth-0 card ">
        <!-- FORCE SPAN TO BE RESTRICTED BY WEB-BROWSER AUTOSIZE -->
        <span class="black-text">{{> usersTab }}
        </span>
      </div>
    </div>

    <div class=" col s12 m5 no-right-pad">
      <div class="operator-info card-border z-depth-0 card ">
        <span class="black-text">{{> userInfoCard}}
        </span>
      </div>
      <div class="operator-chat card-border z-depth-0 card ">
        <span class="black-text">{{> userChatCard}}
        </span>
      </div>
    </div>

    <div class="col s12 m5">
      <div class="operator-api card-border z-depth-0 card ">
        <span class="black-text">{{> apiCard}}
        </span>
      </div>
      <div class="operator-status card-border z-depth-0 card">
        <span class="black-text ">
          <div class="col s12 status-size">
            {{> statusCard}}
          </div>
        </span>
      </div>
    </div>

  </div>
</template>

<template name="usersTab">

   <div class="row no-bottom-margin">
    <div class="col s12 operator-dash-title valign-wrapper">
      <div class="auto-width center-align ellipsis">CUSTOMERS</div>
    </div>
    <div class="col s12 divider "></div>
  </div>

  <div class="scrollable-serving ">
    <!-- for each user do dis hoe -->
    <!-- <div class="col s12"> -->
      {{> userStatus}}
    <!-- </div> -->
  </div>

<div class="col s12 divider"></div>

  <div class="find-user-box ellipsis">
    {{> getUser}}
  </div>
</template>



<template name="userStatus">
  <div class="customer-names">
    <table class="highlight">  
      <tbody>     
       {{#each customer in customers}}
          <tr class="highlight-size">
            <a href={{customerPageLink customer.userId}}>
              <div class="names-padding ellipsis">
                <span class="highlight new badge green right" data-badge-caption=" "> 4 </span>
               {{customer.firstName}}  
               {{customer.lastName}}
             </div>
            </a>
          </tr>
       {{/each}}
      </tbody>
    </table>
  </div>
</template>

<template name="getUser">
  {{#if searching}}
    <a class="notSeeking">
       <div class="preloader-wrapper big active loader-margins">
        <div class="spinner-layer spinner-blue-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div><div class="gap-patch">
            <div class="circle"></div>
          </div><div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>
    </a>

    Searching...
  
  {{else}}

    {{#if notServing}}
      <a class=" getUser pulse btn-floating btn-large waves-effect waves-light orange"><i class=" material-icons">add</i></a>
    {{else}}

      <a class=" getUser btn-floating btn-large waves-effect waves-light orange"><i class=" material-icons">add</i></a>
    {{/if}}
  
  Find Customer 
  
  {{/if}}


</template>

<template name="userInfoCard">
  <div class="row">
    <div class="col s12">
      <ul class="tabs">
        <li class="tab col s6"><a href="#info">Information</a></li>
        <li class="tab col s6"><a href="#hist">History</a></li>
      </ul>
    </div>
    <div id="info" class="col s12">
      <ul class="tabs">
        <li class="tab col s4"><a class="active" href="#account">Account</a></li>
        <li class="tab col s4"><a href="#favorites">Favorites</a></li>
        <li class="tab col s4"><a href="#addresses">Addresses</a></li>
      </ul>
      <div class="scrollable-info">
        <div id="account" class="col s12">
          <div class="row">
            <form class="col s12">
              <div class="row">
                <div class="input-field col s6">
                  <input disabled value="{{userInfo.firstName}}" id="first_name" type="text" class="validate">
                  <label class="active" for="first_name">First Name</label>
                </div>
                <div class="input-field col s6">
                  <input disabled value="{{userInfo.lastName}}" id="last_name" type="text" class="validate">
                  <label class="active" for="last_name">Last Name</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <input disabled value="{{userInfo.phone}}" id="phone" type="text" class="validate">
                  <label class="active" for="phone">Phone</label>
                </div>
              </div>
              <!-- <div class="row">
                <div class="input-field col s12">
                  <input id="email" type="email" class="validate">
                  <label for="email">Email</label>
                </div>
              </div> -->
            </form>
          </div>
        </div>
        <div id="favorites" class="card-scrollable col s12">
            <ul class="collapsible z-depth-0" data-collapsible="accordion">
              <div id="key">{{favorites}}</div>
              <li>
                <div class="collapsible-header">
                  <span class="left">Example</span>
                  <i class="material-icons right">mode_edit</i>
                  <span class="right">5 days ago</span>
                </div>
                <div class="collapsible-body">
                  <div class="row">
                    <!-- {{#autoForm collection="Favorites" doc=favorites id="updateKeyForm" type="update"}} -->
                      <div class="container center">
                        <div class="input-field col s12">
                          <!-- {{>afFieldInput name="keyWord" id="keyWord" type="text"}} -->
                          <input value="example" id="key_word" type="text" class="validate">
                          <label class="active">Key Word</label>
                        </div>

                        <br>
                        <button type="submit" class=" col s4 btn left btn-primary ">Change</button>
                        <button type="submit" class=" col s4 btn right btn-primary ">Delete</button>
                      </div>
                    <!-- {{/autoForm}} -->
                  </div>
                </div>
              </li>
            </ul>
            <div class="col s12">
              <div class="row">
                <div class="input-field col s10">
                  <input id="favorite" placeholder="New Entry ..." type="text" class="validate" data-length="60">
                </div>
                <div class="col s2 ">
                  <!-- <button type="submit" class=" col s12 btn center btn-primary "></button> -->
                  <a class="addFavorite vertical-center btn btn-floating waves-effect waves-light z-depth-1"><i class="material-icons">playlist_add</i></a>
                </div>
              </div>
            </div>
        </div>
        <div id="addresses" class="scrollable-info col s12">
            <ul class="collapsible z-depth-0" data-collapsible="accordion">
              <div id="address">{{addresses}}</div>
              <li>
                <div class="collapsible-header">US</div>
                <div class="collapsible-body">
                  <span class="left">1401 College Ave.</span><br>
                  <span class="left">Apt. E304</span><br>
                  <span class="left">Manhattan, KS 66502</span>
                </div>
              </li>
            </ul>
        </div>
      </div>
    </div>
    <div id="hist" class="card-scrollable col s12">
      <div class="container col s12">
        <ul class="collapsible z-depth-0" data-collapsible="accordion">
          <div id="transaction">{{history}}</div>
          <li>
            <div class="collapsible-header">
              <span class="left">Al Baik</span>
              <span class="right">3 days ago</span>
            </div>
            <div class="collapsible-body">
              <span class="left">٢ مسحب حراق</span>
              <span class="right">SAR23.00</span>
              <span> (cancelled)</span>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</template>

<template name="userChatCard">
  <!-- Display texts -->
  <div class="row no-bottom-margin">
    <div class="col s12 operator-dash-title valign-wrapper">
      <div class="auto-width center-align ellipsis">Live Chat with (username)</div>
    </div>
    <div class="col s12 divider "></div>
  </div>

  <div class="scrollable-chat ">
    <center class="chat-start"> --- Beginning of Chat --- </center>
     <br>
    <div class="col s12 ">
      {{SecureDashboardLink}}
      
      {{> textUser}}

      {{> textOperator}}
    </div>
  </div>

  <div class="col s12 divider"></div>

  <div class="chat-send input-field col s12">
    <div class="row">
      
      <div class="col s10">
        <input id="input_text" placeholder="Text Message..." type="text" class="validate" data-length="160">
      </div>
      
      <div class="col s2 ">
        <a class="send-txt vertical-center btn btn-floating waves-effect waves-light z-depth-1"><i class="material-icons">send</i></a>
      </div>

    </div>
  </div>

</template>

<template name="textUser">
  <div class="col s7">
    <div class="card message-margins grey lighten-1 z-depth-0">
      
      <div class="tooltipped message-padding chat-size" data-position="right" data-delay="50" data-tooltip="date,time">
            User Message should be printed here
      </div>
    </div>
  </div>
</template>

<template name="textOperator">
  <div class="col s7 right">
    <div class="card message-margins blue darken-1 z-depth-0">
      <div class="tooltipped message-padding chat-size" data-position="left" data-delay="50" data-tooltip="date,time, opID">
        Operator Message should be printed here
      </div>
    </div>
  </div>
</template>

<template name="apiCard">
  <div class="row no-bottom-margin">
    <div class="col s12 operator-dash-title valign-wrapper">
      <div class="auto-width center-align ellipsis">SERVICES</div>
    </div>
    <div class="col s12 divider "></div>
  </div>
</template>

<template name="statusCard">
  
  <div class="row no-bottom-margin status-size valign-wrapper">

    <a class="col s3 waves-effect waves-light green btn ellipsis tooltipped " data-position="top" data-delay="50" data-tooltip="You've completed all what the user has asked for. This will disconnect you from the user!">
      <i class="material-icons left">done</i>
      done
    </a>

    <div class="col s1"></div>

    <a class="col s4 waves-effect waves-light orange btn ellipsis tooltipped " data-position="top" data-delay="50" data-tooltip="you've order something for the user and you are waiting for the service provider's reply.">
      <i class="material-icons left">extension</i>
      pending
    </a>

    <div class="col s1"></div>

    <a class=" col s3 waves-effect waves-light red btn ellipsis tooltipped" data-position="top" data-delay="50" data-tooltip="You won't be able to serve this user for some reason. This will disconnect you from the user!">
      <i class="material-icons left">error</i>
      Cancel
    </a>


  </div>

</template>
