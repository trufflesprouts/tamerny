
<template name="HomeLayout">
  <main>

    {{#if currentUser }}
			<!-- Logged in -->
      {{#if isOperator}}

      <!-- OPERATOR -->

        <!-- SIDE-NAV -->
        <ul id="slide-out" class="side-nav fixed side-color side-width">
          <li><div class="user-view center side-text-color">
            <a href="#user-profile"><i class="material-icons small">account_circle</i>
          </a></div></li>
          <div class="col s12 divider"></div>
          <li><div class="user-view center side-text-color">
            <a href="#sales"><i class="material-icons small">equalizer</i>
          </a></div></li>
          <li><div class="user-view center side-text-color"><a href="#performance">
            <i class="material-icons small">multiline_chart</i>
          </a></div></li>
          <li><div class="user-view center side-text-color"><a href="#achievement">
            <i class="material-icons small">star_half</i>
          </a></div></li>
        </ul>

        <!-- {{> userCardsPage }} -->
        <!-- USER -->
        <div class="scroll-padding" id="user-profile">
          <div class="col s12 divider orange-divider hide-on-small-only"></div>
          <div class="section-title center-align hide-on-small-only">User Profile</div>
          <div clas="hide-on-small-only">{{> userCardsPage padding="operator-padding"}}</div>
        </div>

        <!-- SALES -->
        <div class="scroll-padding hide-on-small-only" id="sales">
          <div class="col s12 divider orange-divider"></div>
          <div class="section-title center-align">Sales</div>
          {{> sales}}
        </div>

        <!-- PERFORMANCE -->
        <div class="scroll-padding hide-on-small-only" id="performance">
          <div class="col s12 divider orange-divider"></div>
          <div class="section-title center-align">Performance</div>
          {{> performance}}
        </div>

        <!-- ACHIEVEMENTS -->
        <div class="scroll-padding hide-on-small-only" id="achievement">
          <div class="col s12 divider orange-divider"></div>
          <div class="section-title center-align">Achievements</div>
          {{> achievements}}
        </div>

      {{else}}
        <!-- USER -->
        {{> userCardsPage padding="margins-valign"}}
      {{/if}}

		{{else}}
			<!-- Not Logged in -->
      <div class="row">
        <div class=" col m9 hide-on-med-and-down">
          <img class="landing-pic" src="/images/landing.png" alt="Pgone">
        </div>
        <div class="landing-text col s12 m12 l3">
          <div class="landing-motto">Anything, one text away.</div>
          <p class="landing-info">Order anything with a simple text to 0508512034 and Tamerny will get it for you.</p>
          <center><a href="#login" class="col s12 #9fa8da indigo lighten-3 waves-effect waves-light btn center-align">Register</a></center>
        </div>
      </div>
	{{/if}}

  </main>
</template>

<template name="userCardsPage">
  <!-- USER -->
  <div class="row ">
    <div class={{padding}}>
    <div class="col s12 m12 l6">
      <!-- BALANCE CARD -->
      <div class=" col s12">
        <div class="card-border z-depth-0 card balance_card white">
          {{> userBalance}}
        </div>
      </div>
     <!-- HISTORY CARD -->
      <div class="col s12">
        <div class="card-border z-depth-0 card  transactions-card white">
          {{> transactions}}
        </div>
      </div>
    </div>
    <!-- TOPUP CARD -->
    <div class=" col s12 m12 l6">
      <div class="card-border z-depth-0 card topup-card white">
        {{> topUp}}
      </div>
    </div> 
  </div>
  </div>

</template>

<template name="sales">
  <div class="row operator-padding">
    <div class="col s12 m12 l6 center">
      <div class="card-border operator-sales-1 card">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
    <div class="col s12 m12 l6 center">
      <div class="card-border operator-sales-1 card">
        {{> userBalance}}
      </div>
    </div>
  </div>
  <div class="row operator-padding">
    <div class="col s12 m12 center">
      <div class="card-border operator-sales-1 card">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
  </div>
</template>

<template name="performance">
  <div class="row operator-padding">
    <div class="col s12 m12 l3 center">
      <div class="card-border operator-sales-2 card horizontal">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
    <div class="col s12 m12 l3 center">
      <div class="card-border operator-sales-2 card horizontal">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
    <div class="col s12 m12 l3 center">
      <div class="card-border operator-sales-2 card horizontal">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
    <div class="col s12 m12 l3 center">
      <div class="card-border operator-sales-2 card horizontal">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
  </div>
  <div class="row operator-padding">
    <div class="col s12 m12 center">
      <div class="card-border operator-sales-1 card">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
  </div>
</template>

<template name="achievements">
  <div class="row operator-padding">
    <div class="col s12 m12 l3 center">
      <div class="card-border operator-sales-2 card horizontal">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
    <div class="col s12 m12 l3 center">
      <div class="card-border operator-sales-2 card horizontal">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
    <div class="col s12 m12 l3 center">
      <div class="card-border operator-sales-2 card horizontal">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
    <div class="col s12 m12 l3 center">
      <div class="card-border operator-sales-2 card horizontal">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
  </div>
  <div class="row operator-padding">
    <div class="col s12 m12 l6 center">
      <div class="card-border operator-sales-1 card">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
    <div class="col s12 m12 l6 center">
      <div class="card-border operator-sales-1 card">
        <span class="soon center-align ellipsis">Coming Soon.</span>  
      </div>
    </div>
  </div>
  <div class="row operator-padding">
    <div class="col s12 m12 center">
      <div class="card-border operator-sales-1 card">
        <span class="soon center-align ellipsis">Coming Soon.</span>
      </div>
    </div>
  </div>
</template>

<template name="userBalance">
  <div class="no-bottom-margin">
    <div class="col s12 operator-dash-title valign-wrapper">
      <div class="auto-width center-align ellipsis">Balance</div>
    </div>
    <div class="col s12 divider "></div>
  </div>
  <div class="col s12 balance-number ellipsis center-align">
    {{balance}} <a class="currency_main">(SAR)</a>
  </div>
</template>

<template name="topUp">
  <div class="no-bottom-margin">
    <div class="col s12 operator-dash-title valign-wrapper">
      <div class="auto-width center-align ellipsis">Top-Up</div>
    </div>
    <div class="col s12 divider "></div>
  </div>
  {{#autoForm collection="TopUp" id="insertTopUpForm" type="insert"}}
    <div class="input-field col s12">
      {{>afFieldInput name="amount" id="amount" type="number"}}
      <label>Amount (SAR)</label>
    </div>
    <div class="input-field col s12">
      {{>afFieldInput name="name" id="name" type="text"}}
      <label>Name</label>
    </div>
    <div class="input-field col s12">
        {{>afFieldInput name="number" id="number" type="number"}}
      <label>Card Number</label>
    </div>
    <div class="input-field col s12">
        {{>afFieldInput name="cvs" id="cvs" type="number"}}
        <label>CVS</label>
    </div>
    <div class="input-field col s6">
        {{>afFieldInput name="month" id="month" type="number"}}
      <label>Expiration Month</label>
    </div>
    <div class="input-field col s6">
        {{>afFieldInput name="year" id="year" type="number"}}
      <label >Expiration Year</label>
    </div>
    <br>
    <div class=" col s12">
    <button type="submit" class=" col s12 btn btn-primary center">Top Up</button>
    </div>
  {{/autoForm}}
</template>

<template name="transactions">
  <div class=" no-bottom-margin">
    <div class="col s12 operator-dash-title valign-wrapper">
      <div class="auto-width center-align ellipsis">History</div>
    </div>
    <div class="col s12 divider "></div>
  </div>
  <div class="scrollable-profile-history container col s12">
    <ul class="collapsible z-depth-0" data-collapsible="accordion" >
      {{#each transaction in userHistory customerId}}
          <li>
            <div class="collapsible-header">
              <div class="left s10 ellipsis">{{transaction.title}}</div>
              <div class="right s2 ellipsis">{{since transaction.time}}</div>
            </div>
            <div class="collapsible-body">
              <div class="left ">{{transaction.description}}</div>
              <div class="right">{{transaction.price}}</div>
              <br>
              <div>{{transaction.status}}</div>
            </div>
          </li>
      {{/each}}

      <!-- START DELETE (AFTER TESTING) -->
      <li>
        <div class="collapsible-header ">
          <div class="left col s10 ellipsis">Jarir Book Store (TEST)</div>
          <div class="right col s2 ellipsis">5 days ago</div>
        </div>
        <div class="collapsible-body row">
          <div class="left">2 Five Star Grid Notebooks</div>
          <div class="right ">SAR50.00</div>
          <br>
          <div> (done)</div>
        </div>
      </li>
       <li>
        <div class="collapsible-header">
          <div class="left col s10 ellipsis">Jarir Book Store (TEST)</div>
          <div class="right col s2 ellipsis">5 days ago</div>
        </div>
        <div class="collapsible-body">
          <span class="left">٢ مسحب حراق</span>
          <span class="right">SAR23.00</span>
          <span> (dummy)</span>
        </div>
      </li>
       <li>
        <div class="collapsible-header">
          <div class="left col s10 ellipsis">Jarir Book Store (TEST)</div>
          <div class="right col s2 ellipsis">5 days ago</div>
        </div>
        <div class="collapsible-body">
          <span class="left">٢ مسحب حراق</span>
          <span class="right">SAR23.00</span>
          <span> (dummy)</span>
        </div>
      </li>
       <li>
        <div class="collapsible-header">
          <div class="left col s10 ellipsis">Jarir Book Store (TEST)</div>
          <div class="right col s2 ellipsis">5 days ago</div>
        </div>
        <div class="collapsible-body">
          <span class="left">٢ مسحب حراق</span>
          <span class="right">SAR23.00</span>
          <span> (dummy)</span>
        </div>
      </li>
      <li>
        <div class="collapsible-header">
          <div class="left col s10 ellipsis">Jarir Book Store (TEST)</div>
          <div class="right col s2 ellipsis">5 days ago</div>
        </div>
        <div class="collapsible-body">
          <span class="left">From your house to your office</span>
          <span class="right">SAR20.00</span>
          <span> (done)</span>
        </div>
      </li>
      <!-- END DELETE -->
    </ul>
  </div>
</template>

<!-- <template name="userInfo">
  <div class="side-text-color">
   <span class="center">{{initials firstName lastName}}</span>
  
 </div>
</template> -->
