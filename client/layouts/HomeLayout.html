
<template name="HomeLayout">
  <main>

    {{#if currentUser }}
			<!-- Logged in -->

			<div class="balance_main center">{{balance}} <a class="currency_main">(SAR)</a></div>
			<br>
			<br>

			<div class="row">
	      <div class=" col s6 center">
	      	<!-- Print all transactions here -->
	      	<h4>Transaction History</h4>
          <div class="scrollable-profile container col s12">
            <ul class="collapsible" data-collapsible="accordion">
              {{#each transaction in userHistory customerId}}
                  {{> transactions transaction}}
              {{/each}}
              <li>
                <div class="collapsible-header">
                  <span class="left">Al Baik</span>
                  <span class="right">3 days ago</span>
                </div>
                <div class="collapsible-body">
                  <span class="left">٢ مسحب حراق</span>
                  <span class="right">SAR23.00</span>
                  <span> (dummy)</span>
                </div>
              </li>
            </ul>
          </div>
	      </div>
	      <div class="col s6 center">
	      	<h4>Add Money</h4>

	      	{{#autoForm collection="TopUp" id="insertTopUpForm" type="insert"}}

	          <div class="input-field col s12">
	            {{>afFieldInput name="amount" id="amount" type="number"}}
	            <label>Amount (SAR)</label>
	          </div>

	          <div class="input-field col s12">
	            {{>afFieldInput name="name" id="name" type="text"}}
	            <label>Name</label>
	          </div>

		        <div class="input-field col s12">
		            {{>afFieldInput name="number" id="number" type="number"}}
		          <label>Card Number</label>
		        </div>

		        <div class="input-field col s12">
		            {{>afFieldInput name="cvs" id="cvs" type="number"}}
		            <label>CVS</label>
		        </div>

		        <div class="input-field col s6">
		            {{>afFieldInput name="month" id="month" type="number"}}
		          <label>Expiration Month</label>
		        </div>

		        <div class="input-field col s6">
		            {{>afFieldInput name="year" id="year" type="number"}}
		          <label >Expiration Year</label>
		        </div>

		        <br>
		        <button type="submit" class=" col s12 extend_button btn btn-primary center">Top Up</button>
		    	{{/autoForm}}

	      </div>
	    </div>

		{{else}}
			<!-- Not Logged in -->
      <div class="row">
        <!-- height="auto" width="100%" -->
        <div class=" col m9 hide-on-small-only">
          <img class="landing-pic" src="/images/landing.png" alt="Pgone">
        </div>
        <div class="landing-text col s12 m3">
          <p class="landing-motto">Anything, one text away.</p>
          <p class="landing-info">Order anything with a simple text to 0508512034 and Tamerny will get it for you.</p>
          <center><a href="#login" class="#9fa8da indigo lighten-3 waves-effect waves-light btn center-align">Register</a></center>
        </div>
      </div>
	{{/if}}

  </main>
</template>

<template name="transactions">
  <li>
    <div class="collapsible-header">
      <span class="left">{{title}}</span>
      <span class="right">{{since time}}</span>
    </div>
    <div class="collapsible-body">
      <span class="left">{{description}}</span>
      <span> ({{status}})</span>
      <span class="right">SAR{{price}}</span>
    </div>
  </li>
</template>
